<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
	<meta name="author" content="Inès Meriel-Bussy, Roxane Desjames">
    <meta name="keywords" content="ASRE49, concours, questionnaire">
	<meta name="description" content="Questionnaire du concours sécurité routière 2023 de l'ASRE49.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Main.css">
    <title>ASRE49 - Questionnaire</title>
        
</head>
<body>
    <header>
        <img src="Images\ASRE_49_Logotype_ASRE_Baseline_Logo_Horizon_Couleurs.jpg" alt="Logo ASRE49" class="logo_ASRE49_horiz">
        <img src="Images\ASRE_49_Logotype_ASRE_Baseline_Logo_Verti_Couleurs.jpg" alt="Logo ASRE49" class="logo_ASRE49_verti">
        <h1>Concours sécurité routière ASRE49</h1>
        <img src="Images\route_ASRE49_logo.png" alt="dessin d'une route" class="deco">
    </header>
    <p>Accédez au <a id="livret" href="Documents\chp 1 - intro - algo v5 - sept2019.pdf" target="_blank">Livret pédagogique</a></p>
    <form id="formulaire" method="post" action="https://script.google.com/macros/s/AKfycbwXAI0FQavk_eMC2EzAj1SVSS0XYdXPyJ84ZRn3F7N7SWzitha8uOE8JF6LhoSR24XDjw/exec">
        <p class="sous-titre">Vos informations :</p>
        <label>
            Nom :
            <input type ="text" name="nom" id="nom" required>
        </label>
        
        <label>
            Prénom :
            <input type ="text" name="prenom" id="prenom" required>
        </label>

        <label>
            Date de naissance :
            <input type="date" id="naissance" name="naissance" required>
        </label>

        <label>
            Entreprise :
            <select id="entreprise" name="entreprise" required>
                <option value="Base">-- Selectionner --</option>
                <option value="A">Entreprise A</option>
                <option value="B">Entrep B</option>
                <option value="C">Entrep C</option>
                <option value="D">Entrep D</option>
            </select>
        </label>
        
        <label class="petit">
            <input class="collecte_donnees" type ="checkbox" name="collecte_donnees" id="collecte_donnees" required>
            Je consens à l'utilisation des données collectées par l'ASRE49 pour le bon déroulement du jeu-concours. 
            <p class="ppetit">Le prestataire s'engage à ne pas réutiliser les données fournies à des fins commerciales.</p>
            <p class="ppetit">Jeu limité à un seul bulletin par salarié.</p>  
            <p class="ppetit">Règlement complet du jeu disponible auprès du correspondant ASRE49 de votre entreprise.</p>
        </label>
        
        <p class="sous-titre">Questionnaire :</p>

        <div id="questionnaire">
            <fieldset>
                <p class="question"> Il est interdit de conduire en France avec un taux d’alcool :</p>
                <label class="form-control">
                    <input type="checkbox" id="A" name="Q1A" value="A">
                    supérieur ou égal à 0,5 g/l de sang 
                </label>
                <label class="form-control">
                    <input type="checkbox" id="B" name="Q1B" value="B">
                    supérieur ou égal à 0,25 mg/l d’air expiré 
                </label>
                <label class="form-control">
                    <input type="checkbox" id="C" name="Q1C" value="C">
                    supérieur ou égal à 0,5 mg/l de sang 
                </label>
                <label class="form-control">
                    <input type="checkbox" id="C" name="Q1D" value="D">
                    supérieur ou égal à 0,25 g/l d’air expiré  
                </label>
            </fieldset>
            
            <fieldset>
                <p class="question">En ville les EDPM doivent se déplacer :</p>
                <label class="form-control">
                    <input type="checkbox" id="D" name="Q2A" value="A">
                    Uniquement sur les pistes cyclables
                </label>
                <label class="form-control">
                    <input type="checkbox" id="E" name="Q2B" value="B">
                    Uniquement sur la route
                </label>
                <label class="form-control">
                    <input type="checkbox" id="E" name="Q2C" value="C">
                    Les deux sont possibles
                </label>
                <label class="form-control">
                    <input type="checkbox" id="E" name="Q2D" value="D">
                    Sur les trottoirs
                </label>
            </fieldset>
            
            <fieldset>
                <p class="question">Lors d’un déplacement pour une mission le salarié a obligation de respecter</p>
                <label class="form-control">
                    <input type="checkbox" id="F" name="Q3A" value="A">
                    Le code de la route
                </label>
                <label class="form-control">
                    <input type="checkbox" id="G" name="Q3B" value="B">
                    Le règlement intérieur de l’entreprise
                </label>
                <label class="form-control">
                    <input type="checkbox" id="H" name="Q3C" value="C">
                    Les deux
                </label>
            </fieldset>

            <fieldset>
                <p class="question">Combien doit-il y avoir de sticker angle mort sur un poids lourd ?</p>
                <label class="form-control">
                    <input type="checkbox" id="I" name="Q4A" value="A">
                    2
                </label>
                <label class="form-control">
                    <input type="checkbox" id="J" name="Q4B" value="B">
                    4
                </label>
                <label class="form-control">
                    <input type="checkbox" id="K" name="Q4C" value="C">
                    6
                </label>
                <label class="form-control">
                    <input type="checkbox" id="K" name="Q4D" value="D">
                    8
                </label>
            </fieldset>

            <fieldset>
                <p class="question"> Afin d'assurer une régularité dans l'entretien de ma voiture, je dois prendre en compte:</p>
                <label class="form-control">
                    <input type="checkbox" id="L" name="Q5A" value="A">
                    Le kilométrage
                </label>
                <label class="form-control">
                    <input type="checkbox" id="M" name="Q5B" value="B">
                    La vieillesse du véhicule
                </label>
                <label class="form-control">
                    <input type="checkbox" id="N" name="Q5C" value="C">
                    Le modèle
                </label>
                <label class="form-control">
                    <input type="checkbox" id="O" name="Q5D" value="D">
                    La consommation de carburant
                </label>
            </fieldset>

            <fieldset>
                <p class="question">Votre voisin affirme : “il est inutile d’éteindre le moteur quand le véhicule n’est à l’arrêt que
                    pendant quelques minutes” <br>
                    Pourquoi à t’il tort ? : </p>
                <label class="form-control">
                    <input type="checkbox" id="L" name="Q6A" value="A">
                    Car un redémarrage du moteur consomme tout le temps moins que de laisser tourner
                </label>                
                <label class="form-control">
                    <input type="checkbox" id="N" name="Q6B" value="B">
                    Car au-delà de 20 secondes, le moteur consomme plus au redémarrage
                </label>
                <label class="form-control">
                    <input type="checkbox" id="O" name="Q6C" value="C">
                    Car au-delà de 20 secondes, le moteur consomme moins au redémarrage
                </label>

            </fieldset>


            <fieldset>
                <p class="question">Vous vous retrouvez dans la nécessité absolue de vous arrêter/stationner sur un accotement
                    ou une bande d'arrêt d'urgence. Comment procédez-vous ? </p>
                <label class="form-control">
                    <input type="checkbox" id="L" name="Q7A" value="A">
                    Rien, il est interdit de stationner ou de s’arrêter même en cas de nécessité absolue
                </label>                
                <label class="form-control">
                    <input type="checkbox" id="M" name="Q7B" value="B">
                    Vous assurez la pré-signalisation du véhicule et vous vous mettez en sécurité derrière les 
                    barrières de sécurité                    
                </label>
                <label class="form-control">
                    <input type="checkbox" id="N" name="Q7C" value="C">
                    Vous assurez la pré-signalisation du véhicule et vous attendez dans votre véhicule que le 
                    dégagement d’urgence soit réalisé    
                </label>
            </fieldset>
            <fieldset>
                <p class="question">Comment réagir suite à l’annonce d’une bretelle de sortie sur une autoroute à deux voies ? </p>
                <label class="form-control">
                    <input type="checkbox" id="L" name="Q8A" value="A">
                    Je me trouve sur la voie de gauche et emprunte la bretelle de sortie dès que possible
                </label>                
                <label class="form-control">
                    <input type="checkbox" id="M" name="Q8B" value="B">
                    Je me trouve sur la voie de droite et m’engage sur la bretelle de sortie à la fin de celle-ci
                </label>
                <label class="form-control">
                    <input type="checkbox" id="N" name="Q8C" value="C">
                    Je me trouve sur la voie de droite et m’engage sur la bretelle de sortie dès que possible
                </label>
            </fieldset>
            <fieldset>
                <p class="question"> Vous vous déplacez en voiture sur une voie de tram autorisée, quelle signalétique devez-vous suivre ?
                     </p>
                <label class="form-control">
                    <input type="checkbox" id="L" name="Q9A" value="A">
                    Aucune 
                </label>                
                <label class="form-control">
                    <input type="checkbox" id="M" name="Q9B" value="B">
                    La nouvelle : selon les règles de circulation du tram
                </label>
                <label class="form-control">
                    <input type="checkbox" id="N" name="Q9C" value="C">
                    Les voies de tram sont toujours interdites à la circulation des voitures

                </label>
            </fieldset>

            <fieldset>  
                    <p>D'après-vous combien y a t-il eu de participant l'année dernière ?</p>  
                <label>
                    Votre réponse : 
                    <input type ="number" name="Q15" id="Q15" required>
                </label>
            </fieldset>
        </div>

        <!--<button type="submit" name="sauvegarder" id="sauvegarder">Sauvegarder</button>-->
        <button type="submit" name="envoyer" id="envoyer" required>Valider les réponses</button>

    </form>

    <script>
        document
          .getElementById("formulaire")
          .addEventListener("submit", function (event) {
            event.preventDefault(); // Empêcher la soumission par défaut
            var btn = document.getElementById("envoyer");   //'selectionner' le boutton d'envoi
            btn.disabled=true;                              //Désactiver le boutton d'envoie après qu'on ait cliqué
            btn.classList.add("clique");                    //Utilise la classe "clique" du CSS sur le boutton
            // Récupérer les données du formulaire
            var formData = new FormData(this);
  
            // Effectuer une requête AJAX POST pour exécuter l'AppScript
            var xhr = new XMLHttpRequest();
            xhr.open("POST", this.action);
            xhr.send(formData);
  
            // Rediriger l'utilisateur vers une nouvelle page une fois que la requête a été résolue avec succès
            xhr.onload = function () {
              if (xhr.status === 200) {
                // vérifier que la requête ait abouti avec succès
                window.location.href =
                  "https://rdjs22.github.io/activ-esaip/Fini.html";
              }
            };
          });
      </script>
    
</body>
</html>
